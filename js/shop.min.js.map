{"version":3,"file":"shop.min.js","sources":["shop.min.js"],"sourcesContent":["// Ion.RangeSlider\n// version 2.3.1 Build: 382\n// © Denis Ineshin, 2019\n// https://github.com/IonDen\n//\n// Project page:    http://ionden.com/a/plugins/ion.rangeSlider/en.html\n// GitHub page:     https://github.com/IonDen/ion.rangeSlider\n//\n// Released under MIT licence:\n// http://ionden.com/a/plugins/licence-en.html\n// =====================================================================================================================\n\n;(function(factory) {\n    if ((typeof jQuery === 'undefined' || !jQuery) && typeof define === \"function\" && define.amd) {\n        define([\"jquery\"], function (jQuery) {\n            return factory(jQuery, document, window, navigator);\n        });\n    } else if ((typeof jQuery === 'undefined' || !jQuery) && typeof exports === \"object\") {\n        factory(require(\"jquery\"), document, window, navigator);\n    } else {\n        factory(jQuery, document, window, navigator);\n    }\n} (function ($, document, window, navigator, undefined) {\n    \"use strict\";\n\n    // =================================================================================================================\n    // Service\n\n    var plugin_count = 0;\n\n    // IE8 fix\n    var is_old_ie = (function () {\n        var n = navigator.userAgent,\n            r = /msie\\s\\d+/i,\n            v;\n        if (n.search(r) > 0) {\n            v = r.exec(n).toString();\n            v = v.split(\" \")[1];\n            if (v < 9) {\n                $(\"html\").addClass(\"lt-ie9\");\n                return true;\n            }\n        }\n        return false;\n    } ());\n    if (!Function.prototype.bind) {\n        Function.prototype.bind = function bind(that) {\n\n            var target = this;\n            var slice = [].slice;\n\n            if (typeof target != \"function\") {\n                throw new TypeError();\n            }\n\n            var args = slice.call(arguments, 1),\n                bound = function () {\n\n                    if (this instanceof bound) {\n\n                        var F = function(){};\n                        F.prototype = target.prototype;\n                        var self = new F();\n\n                        var result = target.apply(\n                            self,\n                            args.concat(slice.call(arguments))\n                        );\n                        if (Object(result) === result) {\n                            return result;\n                        }\n                        return self;\n\n                    } else {\n\n                        return target.apply(\n                            that,\n                            args.concat(slice.call(arguments))\n                        );\n\n                    }\n\n                };\n\n            return bound;\n        };\n    }\n    if (!Array.prototype.indexOf) {\n        Array.prototype.indexOf = function(searchElement, fromIndex) {\n            var k;\n            if (this == null) {\n                throw new TypeError('\"this\" is null or not defined');\n            }\n            var O = Object(this);\n            var len = O.length >>> 0;\n            if (len === 0) {\n                return -1;\n            }\n            var n = +fromIndex || 0;\n            if (Math.abs(n) === Infinity) {\n                n = 0;\n            }\n            if (n >= len) {\n                return -1;\n            }\n            k = Math.max(n >= 0 ? n : len - Math.abs(n), 0);\n            while (k < len) {\n                if (k in O && O[k] === searchElement) {\n                    return k;\n                }\n                k++;\n            }\n            return -1;\n        };\n    }\n\n\n\n    // =================================================================================================================\n    // Template\n\n    var base_html =\n        '<span class=\"irs\">' +\n        '<span class=\"irs-line\" tabindex=\"0\"></span>' +\n        '<span class=\"irs-min\">0</span><span class=\"irs-max\">1</span>' +\n        '<span class=\"irs-from\">0</span><span class=\"irs-to\">0</span><span class=\"irs-single\">0</span>' +\n        '</span>' +\n        '<span class=\"irs-grid\"></span>';\n\n    var single_html =\n        '<span class=\"irs-bar irs-bar--single\"></span>' +\n        '<span class=\"irs-shadow shadow-single\"></span>' +\n        '<span class=\"irs-handle single\"><i></i><i></i><i></i></span>';\n\n    var double_html =\n        '<span class=\"irs-bar\"></span>' +\n        '<span class=\"irs-shadow shadow-from\"></span>' +\n        '<span class=\"irs-shadow shadow-to\"></span>' +\n        '<span class=\"irs-handle from\"><i></i><i></i><i></i></span>' +\n        '<span class=\"irs-handle to\"><i></i><i></i><i></i></span>';\n\n    var disable_html =\n        '<span class=\"irs-disable-mask\"></span>';\n\n\n\n    // =================================================================================================================\n    // Core\n\n    /**\n     * Main plugin constructor\n     *\n     * @param input {Object} link to base input element\n     * @param options {Object} slider config\n     * @param plugin_count {Number}\n     * @constructor\n     */\n    var IonRangeSlider = function (input, options, plugin_count) {\n        this.VERSION = \"2.3.1\";\n        this.input = input;\n        this.plugin_count = plugin_count;\n        this.current_plugin = 0;\n        this.calc_count = 0;\n        this.update_tm = 0;\n        this.old_from = 0;\n        this.old_to = 0;\n        this.old_min_interval = null;\n        this.raf_id = null;\n        this.dragging = false;\n        this.force_redraw = false;\n        this.no_diapason = false;\n        this.has_tab_index = true;\n        this.is_key = false;\n        this.is_update = false;\n        this.is_start = true;\n        this.is_finish = false;\n        this.is_active = false;\n        this.is_resize = false;\n        this.is_click = false;\n\n        options = options || {};\n\n        // cache for links to all DOM elements\n        this.$cache = {\n            win: $(window),\n            body: $(document.body),\n            input: $(input),\n            cont: null,\n            rs: null,\n            min: null,\n            max: null,\n            from: null,\n            to: null,\n            single: null,\n            bar: null,\n            line: null,\n            s_single: null,\n            s_from: null,\n            s_to: null,\n            shad_single: null,\n            shad_from: null,\n            shad_to: null,\n            edge: null,\n            grid: null,\n            grid_labels: []\n        };\n\n        // storage for measure variables\n        this.coords = {\n            // left\n            x_gap: 0,\n            x_pointer: 0,\n\n            // width\n            w_rs: 0,\n            w_rs_old: 0,\n            w_handle: 0,\n\n            // percents\n            p_gap: 0,\n            p_gap_left: 0,\n            p_gap_right: 0,\n            p_step: 0,\n            p_pointer: 0,\n            p_handle: 0,\n            p_single_fake: 0,\n            p_single_real: 0,\n            p_from_fake: 0,\n            p_from_real: 0,\n            p_to_fake: 0,\n            p_to_real: 0,\n            p_bar_x: 0,\n            p_bar_w: 0,\n\n            // grid\n            grid_gap: 0,\n            big_num: 0,\n            big: [],\n            big_w: [],\n            big_p: [],\n            big_x: []\n        };\n\n        // storage for labels measure variables\n        this.labels = {\n            // width\n            w_min: 0,\n            w_max: 0,\n            w_from: 0,\n            w_to: 0,\n            w_single: 0,\n\n            // percents\n            p_min: 0,\n            p_max: 0,\n            p_from_fake: 0,\n            p_from_left: 0,\n            p_to_fake: 0,\n            p_to_left: 0,\n            p_single_fake: 0,\n            p_single_left: 0\n        };\n\n\n\n        /**\n         * get and validate config\n         */\n        var $inp = this.$cache.input,\n            val = $inp.prop(\"value\"),\n            config, config_from_data, prop;\n\n        // default config\n        config = {\n            skin: \"flat\",\n            type: \"single\",\n\n            min: 10,\n            max: 100,\n            from: null,\n            to: null,\n            step: 1,\n\n            min_interval: 0,\n            max_interval: 0,\n            drag_interval: false,\n\n            values: [],\n            p_values: [],\n\n            from_fixed: false,\n            from_min: null,\n            from_max: null,\n            from_shadow: false,\n\n            to_fixed: false,\n            to_min: null,\n            to_max: null,\n            to_shadow: false,\n\n            prettify_enabled: true,\n            prettify_separator: \" \",\n            prettify: null,\n\n            force_edges: false,\n\n            keyboard: true,\n\n            grid: false,\n            grid_margin: true,\n            grid_num: 4,\n            grid_snap: false,\n\n            hide_min_max: false,\n            hide_from_to: false,\n\n            prefix: \"\",\n            postfix: \"\",\n            max_postfix: \"\",\n            decorate_both: true,\n            values_separator: \" — \",\n\n            input_values_separator: \";\",\n\n            disable: false,\n            block: false,\n\n            extra_classes: \"\",\n\n            scope: null,\n            onStart: null,\n            onChange: null,\n            onFinish: null,\n            onUpdate: null\n        };\n\n\n        // check if base element is input\n        if ($inp[0].nodeName !== \"INPUT\") {\n            console && console.warn && console.warn(\"Base element should be <input>!\", $inp[0]);\n        }\n\n\n        // config from data-attributes extends js config\n        config_from_data = {\n            skin: $inp.data(\"skin\"),\n            type: $inp.data(\"type\"),\n\n            min: $inp.data(\"min\"),\n            max: $inp.data(\"max\"),\n            from: $inp.data(\"from\"),\n            to: $inp.data(\"to\"),\n            step: $inp.data(\"step\"),\n\n            min_interval: $inp.data(\"minInterval\"),\n            max_interval: $inp.data(\"maxInterval\"),\n            drag_interval: $inp.data(\"dragInterval\"),\n\n            values: $inp.data(\"values\"),\n\n            from_fixed: $inp.data(\"fromFixed\"),\n            from_min: $inp.data(\"fromMin\"),\n            from_max: $inp.data(\"fromMax\"),\n            from_shadow: $inp.data(\"fromShadow\"),\n\n            to_fixed: $inp.data(\"toFixed\"),\n            to_min: $inp.data(\"toMin\"),\n            to_max: $inp.data(\"toMax\"),\n            to_shadow: $inp.data(\"toShadow\"),\n\n            prettify_enabled: $inp.data(\"prettifyEnabled\"),\n            prettify_separator: $inp.data(\"prettifySeparator\"),\n\n            force_edges: $inp.data(\"forceEdges\"),\n\n            keyboard: $inp.data(\"keyboard\"),\n\n            grid: $inp.data(\"grid\"),\n            grid_margin: $inp.data(\"gridMargin\"),\n            grid_num: $inp.data(\"gridNum\"),\n            grid_snap: $inp.data(\"gridSnap\"),\n\n            hide_min_max: $inp.data(\"hideMinMax\"),\n            hide_from_to: $inp.data(\"hideFromTo\"),\n\n            prefix: $inp.data(\"prefix\"),\n            postfix: $inp.data(\"postfix\"),\n            max_postfix: $inp.data(\"maxPostfix\"),\n            decorate_both: $inp.data(\"decorateBoth\"),\n            values_separator: $inp.data(\"valuesSeparator\"),\n\n            input_values_separator: $inp.data(\"inputValuesSeparator\"),\n\n            disable: $inp.data(\"disable\"),\n            block: $inp.data(\"block\"),\n\n            extra_classes: $inp.data(\"extraClasses\"),\n        };\n        config_from_data.values = config_from_data.values && config_from_data.values.split(\",\");\n\n        for (prop in config_from_data) {\n            if (config_from_data.hasOwnProperty(prop)) {\n                if (config_from_data[prop] === undefined || config_from_data[prop] === \"\") {\n                    delete config_from_data[prop];\n                }\n            }\n        }\n\n\n        // input value extends default config\n        if (val !== undefined && val !== \"\") {\n            val = val.split(config_from_data.input_values_separator || options.input_values_separator || \";\");\n\n            if (val[0] && val[0] == +val[0]) {\n                val[0] = +val[0];\n            }\n            if (val[1] && val[1] == +val[1]) {\n                val[1] = +val[1];\n            }\n\n            if (options && options.values && options.values.length) {\n                config.from = val[0] && options.values.indexOf(val[0]);\n                config.to = val[1] && options.values.indexOf(val[1]);\n            } else {\n                config.from = val[0] && +val[0];\n                config.to = val[1] && +val[1];\n            }\n        }\n\n\n\n        // js config extends default config\n        $.extend(config, options);\n\n\n        // data config extends config\n        $.extend(config, config_from_data);\n        this.options = config;\n\n\n\n        // validate config, to be sure that all data types are correct\n        this.update_check = {};\n        this.validate();\n\n\n\n        // default result object, returned to callbacks\n        this.result = {\n            input: this.$cache.input,\n            slider: null,\n\n            min: this.options.min,\n            max: this.options.max,\n\n            from: this.options.from,\n            from_percent: 0,\n            from_value: null,\n\n            to: this.options.to,\n            to_percent: 0,\n            to_value: null\n        };\n\n\n\n        this.init();\n    };\n\n    IonRangeSlider.prototype = {\n\n        /**\n         * Starts or updates the plugin instance\n         *\n         * @param [is_update] {boolean}\n         */\n        init: function (is_update) {\n            this.no_diapason = false;\n            this.coords.p_step = this.convertToPercent(this.options.step, true);\n\n            this.target = \"base\";\n\n            this.toggleInput();\n            this.append();\n            this.setMinMax();\n\n            if (is_update) {\n                this.force_redraw = true;\n                this.calc(true);\n\n                // callbacks called\n                this.callOnUpdate();\n            } else {\n                this.force_redraw = true;\n                this.calc(true);\n\n                // callbacks called\n                this.callOnStart();\n            }\n\n            this.updateScene();\n        },\n\n        /**\n         * Appends slider template to a DOM\n         */\n        append: function () {\n            var container_html = '<span class=\"irs irs--' + this.options.skin + ' js-irs-' + this.plugin_count + ' ' + this.options.extra_classes + '\"></span>';\n            this.$cache.input.before(container_html);\n            this.$cache.input.prop(\"readonly\", true);\n            this.$cache.cont = this.$cache.input.prev();\n            this.result.slider = this.$cache.cont;\n\n            this.$cache.cont.html(base_html);\n            this.$cache.rs = this.$cache.cont.find(\".irs\");\n            this.$cache.min = this.$cache.cont.find(\".irs-min\");\n            this.$cache.max = this.$cache.cont.find(\".irs-max\");\n            this.$cache.from = this.$cache.cont.find(\".irs-from\");\n            this.$cache.to = this.$cache.cont.find(\".irs-to\");\n            this.$cache.single = this.$cache.cont.find(\".irs-single\");\n            this.$cache.line = this.$cache.cont.find(\".irs-line\");\n            this.$cache.grid = this.$cache.cont.find(\".irs-grid\");\n\n            if (this.options.type === \"single\") {\n                this.$cache.cont.append(single_html);\n                this.$cache.bar = this.$cache.cont.find(\".irs-bar\");\n                this.$cache.edge = this.$cache.cont.find(\".irs-bar-edge\");\n                this.$cache.s_single = this.$cache.cont.find(\".single\");\n                this.$cache.from[0].style.visibility = \"hidden\";\n                this.$cache.to[0].style.visibility = \"hidden\";\n                this.$cache.shad_single = this.$cache.cont.find(\".shadow-single\");\n            } else {\n                this.$cache.cont.append(double_html);\n                this.$cache.bar = this.$cache.cont.find(\".irs-bar\");\n                this.$cache.s_from = this.$cache.cont.find(\".from\");\n                this.$cache.s_to = this.$cache.cont.find(\".to\");\n                this.$cache.shad_from = this.$cache.cont.find(\".shadow-from\");\n                this.$cache.shad_to = this.$cache.cont.find(\".shadow-to\");\n\n                this.setTopHandler();\n            }\n\n            if (this.options.hide_from_to) {\n                this.$cache.from[0].style.display = \"none\";\n                this.$cache.to[0].style.display = \"none\";\n                this.$cache.single[0].style.display = \"none\";\n            }\n\n            this.appendGrid();\n\n            if (this.options.disable) {\n                this.appendDisableMask();\n                this.$cache.input[0].disabled = true;\n            } else {\n                this.$cache.input[0].disabled = false;\n                this.removeDisableMask();\n                this.bindEvents();\n            }\n\n            // block only if not disabled\n            if (!this.options.disable) {\n                if (this.options.block) {\n                    this.appendDisableMask();\n                } else {\n                    this.removeDisableMask();\n                }\n            }\n\n            if (this.options.drag_interval) {\n                this.$cache.bar[0].style.cursor = \"ew-resize\";\n            }\n        },\n\n        /**\n         * Determine which handler has a priority\n         * works only for double slider type\n         */\n        setTopHandler: function () {\n            var min = this.options.min,\n                max = this.options.max,\n                from = this.options.from,\n                to = this.options.to;\n\n            if (from > min && to === max) {\n                this.$cache.s_from.addClass(\"type_last\");\n            } else if (to < max) {\n                this.$cache.s_to.addClass(\"type_last\");\n            }\n        },\n\n        /**\n         * Determine which handles was clicked last\n         * and which handler should have hover effect\n         *\n         * @param target {String}\n         */\n        changeLevel: function (target) {\n            switch (target) {\n                case \"single\":\n                    this.coords.p_gap = this.toFixed(this.coords.p_pointer - this.coords.p_single_fake);\n                    this.$cache.s_single.addClass(\"state_hover\");\n                    break;\n                case \"from\":\n                    this.coords.p_gap = this.toFixed(this.coords.p_pointer - this.coords.p_from_fake);\n                    this.$cache.s_from.addClass(\"state_hover\");\n                    this.$cache.s_from.addClass(\"type_last\");\n                    this.$cache.s_to.removeClass(\"type_last\");\n                    break;\n                case \"to\":\n                    this.coords.p_gap = this.toFixed(this.coords.p_pointer - this.coords.p_to_fake);\n                    this.$cache.s_to.addClass(\"state_hover\");\n                    this.$cache.s_to.addClass(\"type_last\");\n                    this.$cache.s_from.removeClass(\"type_last\");\n                    break;\n                case \"both\":\n                    this.coords.p_gap_left = this.toFixed(this.coords.p_pointer - this.coords.p_from_fake);\n                    this.coords.p_gap_right = this.toFixed(this.coords.p_to_fake - this.coords.p_pointer);\n                    this.$cache.s_to.removeClass(\"type_last\");\n                    this.$cache.s_from.removeClass(\"type_last\");\n                    break;\n            }\n        },\n\n        /**\n         * Then slider is disabled\n         * appends extra layer with opacity\n         */\n        appendDisableMask: function () {\n            this.$cache.cont.append(disable_html);\n            this.$cache.cont.addClass(\"irs-disabled\");\n        },\n\n        /**\n         * Then slider is not disabled\n         * remove disable mask\n         */\n        removeDisableMask: function () {\n            this.$cache.cont.remove(\".irs-disable-mask\");\n            this.$cache.cont.removeClass(\"irs-disabled\");\n        },\n\n        /**\n         * Remove slider instance\n         * and unbind all events\n         */\n        remove: function () {\n            this.$cache.cont.remove();\n            this.$cache.cont = null;\n\n            this.$cache.line.off(\"keydown.irs_\" + this.plugin_count);\n\n            this.$cache.body.off(\"touchmove.irs_\" + this.plugin_count);\n            this.$cache.body.off(\"mousemove.irs_\" + this.plugin_count);\n\n            this.$cache.win.off(\"touchend.irs_\" + this.plugin_count);\n            this.$cache.win.off(\"mouseup.irs_\" + this.plugin_count);\n\n            if (is_old_ie) {\n                this.$cache.body.off(\"mouseup.irs_\" + this.plugin_count);\n                this.$cache.body.off(\"mouseleave.irs_\" + this.plugin_count);\n            }\n\n            this.$cache.grid_labels = [];\n            this.coords.big = [];\n            this.coords.big_w = [];\n            this.coords.big_p = [];\n            this.coords.big_x = [];\n\n            cancelAnimationFrame(this.raf_id);\n        },\n\n        /**\n         * bind all slider events\n         */\n        bindEvents: function () {\n            if (this.no_diapason) {\n                return;\n            }\n\n            this.$cache.body.on(\"touchmove.irs_\" + this.plugin_count, this.pointerMove.bind(this));\n            this.$cache.body.on(\"mousemove.irs_\" + this.plugin_count, this.pointerMove.bind(this));\n\n            this.$cache.win.on(\"touchend.irs_\" + this.plugin_count, this.pointerUp.bind(this));\n            this.$cache.win.on(\"mouseup.irs_\" + this.plugin_count, this.pointerUp.bind(this));\n\n            this.$cache.line.on(\"touchstart.irs_\" + this.plugin_count, this.pointerClick.bind(this, \"click\"));\n            this.$cache.line.on(\"mousedown.irs_\" + this.plugin_count, this.pointerClick.bind(this, \"click\"));\n\n            this.$cache.line.on(\"focus.irs_\" + this.plugin_count, this.pointerFocus.bind(this));\n\n            if (this.options.drag_interval && this.options.type === \"double\") {\n                this.$cache.bar.on(\"touchstart.irs_\" + this.plugin_count, this.pointerDown.bind(this, \"both\"));\n                this.$cache.bar.on(\"mousedown.irs_\" + this.plugin_count, this.pointerDown.bind(this, \"both\"));\n            } else {\n                this.$cache.bar.on(\"touchstart.irs_\" + this.plugin_count, this.pointerClick.bind(this, \"click\"));\n                this.$cache.bar.on(\"mousedown.irs_\" + this.plugin_count, this.pointerClick.bind(this, \"click\"));\n            }\n\n            if (this.options.type === \"single\") {\n                this.$cache.single.on(\"touchstart.irs_\" + this.plugin_count, this.pointerDown.bind(this, \"single\"));\n                this.$cache.s_single.on(\"touchstart.irs_\" + this.plugin_count, this.pointerDown.bind(this, \"single\"));\n                this.$cache.shad_single.on(\"touchstart.irs_\" + this.plugin_count, this.pointerClick.bind(this, \"click\"));\n\n                this.$cache.single.on(\"mousedown.irs_\" + this.plugin_count, this.pointerDown.bind(this, \"single\"));\n                this.$cache.s_single.on(\"mousedown.irs_\" + this.plugin_count, this.pointerDown.bind(this, \"single\"));\n                this.$cache.edge.on(\"mousedown.irs_\" + this.plugin_count, this.pointerClick.bind(this, \"click\"));\n                this.$cache.shad_single.on(\"mousedown.irs_\" + this.plugin_count, this.pointerClick.bind(this, \"click\"));\n            } else {\n                this.$cache.single.on(\"touchstart.irs_\" + this.plugin_count, this.pointerDown.bind(this, null));\n                this.$cache.single.on(\"mousedown.irs_\" + this.plugin_count, this.pointerDown.bind(this, null));\n\n                this.$cache.from.on(\"touchstart.irs_\" + this.plugin_count, this.pointerDown.bind(this, \"from\"));\n                this.$cache.s_from.on(\"touchstart.irs_\" + this.plugin_count, this.pointerDown.bind(this, \"from\"));\n                this.$cache.to.on(\"touchstart.irs_\" + this.plugin_count, this.pointerDown.bind(this, \"to\"));\n                this.$cache.s_to.on(\"touchstart.irs_\" + this.plugin_count, this.pointerDown.bind(this, \"to\"));\n                this.$cache.shad_from.on(\"touchstart.irs_\" + this.plugin_count, this.pointerClick.bind(this, \"click\"));\n                this.$cache.shad_to.on(\"touchstart.irs_\" + this.plugin_count, this.pointerClick.bind(this, \"click\"));\n\n                this.$cache.from.on(\"mousedown.irs_\" + this.plugin_count, this.pointerDown.bind(this, \"from\"));\n                this.$cache.s_from.on(\"mousedown.irs_\" + this.plugin_count, this.pointerDown.bind(this, \"from\"));\n                this.$cache.to.on(\"mousedown.irs_\" + this.plugin_count, this.pointerDown.bind(this, \"to\"));\n                this.$cache.s_to.on(\"mousedown.irs_\" + this.plugin_count, this.pointerDown.bind(this, \"to\"));\n                this.$cache.shad_from.on(\"mousedown.irs_\" + this.plugin_count, this.pointerClick.bind(this, \"click\"));\n                this.$cache.shad_to.on(\"mousedown.irs_\" + this.plugin_count, this.pointerClick.bind(this, \"click\"));\n            }\n\n            if (this.options.keyboard) {\n                this.$cache.line.on(\"keydown.irs_\" + this.plugin_count, this.key.bind(this, \"keyboard\"));\n            }\n\n            if (is_old_ie) {\n                this.$cache.body.on(\"mouseup.irs_\" + this.plugin_count, this.pointerUp.bind(this));\n                this.$cache.body.on(\"mouseleave.irs_\" + this.plugin_count, this.pointerUp.bind(this));\n            }\n        },\n\n        /**\n         * Focus with tabIndex\n         *\n         * @param e {Object} event object\n         */\n        pointerFocus: function (e) {\n            if (!this.target) {\n                var x;\n                var $handle;\n\n                if (this.options.type === \"single\") {\n                    $handle = this.$cache.single;\n                } else {\n                    $handle = this.$cache.from;\n                }\n\n                x = $handle.offset().left;\n                x += ($handle.width() / 2) - 1;\n\n                this.pointerClick(\"single\", {preventDefault: function () {}, pageX: x});\n            }\n        },\n\n        /**\n         * Mousemove or touchmove\n         * only for handlers\n         *\n         * @param e {Object} event object\n         */\n        pointerMove: function (e) {\n            if (!this.dragging) {\n                return;\n            }\n\n            var x = e.pageX || e.originalEvent.touches && e.originalEvent.touches[0].pageX;\n            this.coords.x_pointer = x - this.coords.x_gap;\n\n            this.calc();\n        },\n\n        /**\n         * Mouseup or touchend\n         * only for handlers\n         *\n         * @param e {Object} event object\n         */\n        pointerUp: function (e) {\n            if (this.current_plugin !== this.plugin_count) {\n                return;\n            }\n\n            if (this.is_active) {\n                this.is_active = false;\n            } else {\n                return;\n            }\n\n            this.$cache.cont.find(\".state_hover\").removeClass(\"state_hover\");\n\n            this.force_redraw = true;\n\n            if (is_old_ie) {\n                $(\"*\").prop(\"unselectable\", false);\n            }\n\n            this.updateScene();\n            this.restoreOriginalMinInterval();\n\n            // callbacks call\n            if ($.contains(this.$cache.cont[0], e.target) || this.dragging) {\n                this.callOnFinish();\n            }\n\n            this.dragging = false;\n        },\n\n        /**\n         * Mousedown or touchstart\n         * only for handlers\n         *\n         * @param target {String|null}\n         * @param e {Object} event object\n         */\n        pointerDown: function (target, e) {\n            e.preventDefault();\n            var x = e.pageX || e.originalEvent.touches && e.originalEvent.touches[0].pageX;\n            if (e.button === 2) {\n                return;\n            }\n\n            if (target === \"both\") {\n                this.setTempMinInterval();\n            }\n\n            if (!target) {\n                target = this.target || \"from\";\n            }\n\n            this.current_plugin = this.plugin_count;\n            this.target = target;\n\n            this.is_active = true;\n            this.dragging = true;\n\n            this.coords.x_gap = this.$cache.rs.offset().left;\n            this.coords.x_pointer = x - this.coords.x_gap;\n\n            this.calcPointerPercent();\n            this.changeLevel(target);\n\n            if (is_old_ie) {\n                $(\"*\").prop(\"unselectable\", true);\n            }\n\n            this.$cache.line.trigger(\"focus\");\n\n            this.updateScene();\n        },\n\n        /**\n         * Mousedown or touchstart\n         * for other slider elements, like diapason line\n         *\n         * @param target {String}\n         * @param e {Object} event object\n         */\n        pointerClick: function (target, e) {\n            e.preventDefault();\n            var x = e.pageX || e.originalEvent.touches && e.originalEvent.touches[0].pageX;\n            if (e.button === 2) {\n                return;\n            }\n\n            this.current_plugin = this.plugin_count;\n            this.target = target;\n\n            this.is_click = true;\n            this.coords.x_gap = this.$cache.rs.offset().left;\n            this.coords.x_pointer = +(x - this.coords.x_gap).toFixed();\n\n            this.force_redraw = true;\n            this.calc();\n\n            this.$cache.line.trigger(\"focus\");\n        },\n\n        /**\n         * Keyborard controls for focused slider\n         *\n         * @param target {String}\n         * @param e {Object} event object\n         * @returns {boolean|undefined}\n         */\n        key: function (target, e) {\n            if (this.current_plugin !== this.plugin_count || e.altKey || e.ctrlKey || e.shiftKey || e.metaKey) {\n                return;\n            }\n\n            switch (e.which) {\n                case 83: // W\n                case 65: // A\n                case 40: // DOWN\n                case 37: // LEFT\n                    e.preventDefault();\n                    this.moveByKey(false);\n                    break;\n\n                case 87: // S\n                case 68: // D\n                case 38: // UP\n                case 39: // RIGHT\n                    e.preventDefault();\n                    this.moveByKey(true);\n                    break;\n            }\n\n            return true;\n        },\n\n        /**\n         * Move by key\n         *\n         * @param right {boolean} direction to move\n         */\n        moveByKey: function (right) {\n            var p = this.coords.p_pointer;\n            var p_step = (this.options.max - this.options.min) / 100;\n            p_step = this.options.step / p_step;\n\n            if (right) {\n                p += p_step;\n            } else {\n                p -= p_step;\n            }\n\n            this.coords.x_pointer = this.toFixed(this.coords.w_rs / 100 * p);\n            this.is_key = true;\n            this.calc();\n        },\n\n        /**\n         * Set visibility and content\n         * of Min and Max labels\n         */\n        setMinMax: function () {\n            if (!this.options) {\n                return;\n            }\n\n            if (this.options.hide_min_max) {\n                this.$cache.min[0].style.display = \"none\";\n                this.$cache.max[0].style.display = \"none\";\n                return;\n            }\n\n            if (this.options.values.length) {\n                this.$cache.min.html(this.decorate(this.options.p_values[this.options.min]));\n                this.$cache.max.html(this.decorate(this.options.p_values[this.options.max]));\n            } else {\n                var min_pretty = this._prettify(this.options.min);\n                var max_pretty = this._prettify(this.options.max);\n\n                this.result.min_pretty = min_pretty;\n                this.result.max_pretty = max_pretty;\n\n                this.$cache.min.html(this.decorate(min_pretty, this.options.min));\n                this.$cache.max.html(this.decorate(max_pretty, this.options.max));\n            }\n\n            this.labels.w_min = this.$cache.min.outerWidth(false);\n            this.labels.w_max = this.$cache.max.outerWidth(false);\n        },\n\n        /**\n         * Then dragging interval, prevent interval collapsing\n         * using min_interval option\n         */\n        setTempMinInterval: function () {\n            var interval = this.result.to - this.result.from;\n\n            if (this.old_min_interval === null) {\n                this.old_min_interval = this.options.min_interval;\n            }\n\n            this.options.min_interval = interval;\n        },\n\n        /**\n         * Restore min_interval option to original\n         */\n        restoreOriginalMinInterval: function () {\n            if (this.old_min_interval !== null) {\n                this.options.min_interval = this.old_min_interval;\n                this.old_min_interval = null;\n            }\n        },\n\n\n\n        // =============================================================================================================\n        // Calculations\n\n        /**\n         * All calculations and measures start here\n         *\n         * @param update {boolean=}\n         */\n        calc: function (update) {\n            if (!this.options) {\n                return;\n            }\n\n            this.calc_count++;\n\n            if (this.calc_count === 10 || update) {\n                this.calc_count = 0;\n                this.coords.w_rs = this.$cache.rs.outerWidth(false);\n\n                this.calcHandlePercent();\n            }\n\n            if (!this.coords.w_rs) {\n                return;\n            }\n\n            this.calcPointerPercent();\n            var handle_x = this.getHandleX();\n\n\n            if (this.target === \"both\") {\n                this.coords.p_gap = 0;\n                handle_x = this.getHandleX();\n            }\n\n            if (this.target === \"click\") {\n                this.coords.p_gap = this.coords.p_handle / 2;\n                handle_x = this.getHandleX();\n\n                if (this.options.drag_interval) {\n                    this.target = \"both_one\";\n                } else {\n                    this.target = this.chooseHandle(handle_x);\n                }\n            }\n\n            switch (this.target) {\n                case \"base\":\n                    var w = (this.options.max - this.options.min) / 100,\n                        f = (this.result.from - this.options.min) / w,\n                        t = (this.result.to - this.options.min) / w;\n\n                    this.coords.p_single_real = this.toFixed(f);\n                    this.coords.p_from_real = this.toFixed(f);\n                    this.coords.p_to_real = this.toFixed(t);\n\n                    this.coords.p_single_real = this.checkDiapason(this.coords.p_single_real, this.options.from_min, this.options.from_max);\n                    this.coords.p_from_real = this.checkDiapason(this.coords.p_from_real, this.options.from_min, this.options.from_max);\n                    this.coords.p_to_real = this.checkDiapason(this.coords.p_to_real, this.options.to_min, this.options.to_max);\n\n                    this.coords.p_single_fake = this.convertToFakePercent(this.coords.p_single_real);\n                    this.coords.p_from_fake = this.convertToFakePercent(this.coords.p_from_real);\n                    this.coords.p_to_fake = this.convertToFakePercent(this.coords.p_to_real);\n\n                    this.target = null;\n\n                    break;\n\n                case \"single\":\n                    if (this.options.from_fixed) {\n                        break;\n                    }\n\n                    this.coords.p_single_real = this.convertToRealPercent(handle_x);\n                    this.coords.p_single_real = this.calcWithStep(this.coords.p_single_real);\n                    this.coords.p_single_real = this.checkDiapason(this.coords.p_single_real, this.options.from_min, this.options.from_max);\n\n                    this.coords.p_single_fake = this.convertToFakePercent(this.coords.p_single_real);\n\n                    break;\n\n                case \"from\":\n                    if (this.options.from_fixed) {\n                        break;\n                    }\n\n                    this.coords.p_from_real = this.convertToRealPercent(handle_x);\n                    this.coords.p_from_real = this.calcWithStep(this.coords.p_from_real);\n                    if (this.coords.p_from_real > this.coords.p_to_real) {\n                        this.coords.p_from_real = this.coords.p_to_real;\n                    }\n                    this.coords.p_from_real = this.checkDiapason(this.coords.p_from_real, this.options.from_min, this.options.from_max);\n                    this.coords.p_from_real = this.checkMinInterval(this.coords.p_from_real, this.coords.p_to_real, \"from\");\n                    this.coords.p_from_real = this.checkMaxInterval(this.coords.p_from_real, this.coords.p_to_real, \"from\");\n\n                    this.coords.p_from_fake = this.convertToFakePercent(this.coords.p_from_real);\n\n                    break;\n\n                case \"to\":\n                    if (this.options.to_fixed) {\n                        break;\n                    }\n\n                    this.coords.p_to_real = this.convertToRealPercent(handle_x);\n                    this.coords.p_to_real = this.calcWithStep(this.coords.p_to_real);\n                    if (this.coords.p_to_real < this.coords.p_from_real) {\n                        this.coords.p_to_real = this.coords.p_from_real;\n                    }\n                    this.coords.p_to_real = this.checkDiapason(this.coords.p_to_real, this.options.to_min, this.options.to_max);\n                    this.coords.p_to_real = this.checkMinInterval(this.coords.p_to_real, this.coords.p_from_real, \"to\");\n                    this.coords.p_to_real = this.checkMaxInterval(this.coords.p_to_real, this.coords.p_from_real, \"to\");\n\n                    this.coords.p_to_fake = this.convertToFakePercent(this.coords.p_to_real);\n\n                    break;\n\n                case \"both\":\n                    if (this.options.from_fixed || this.options.to_fixed) {\n                        break;\n                    }\n\n                    handle_x = this.toFixed(handle_x + (this.coords.p_handle * 0.001));\n\n                    this.coords.p_from_real = this.convertToRealPercent(handle_x) - this.coords.p_gap_left;\n                    this.coords.p_from_real = this.calcWithStep(this.coords.p_from_real);\n                    this.coords.p_from_real = this.checkDiapason(this.coords.p_from_real, this.options.from_min, this.options.from_max);\n                    this.coords.p_from_real = this.checkMinInterval(this.coords.p_from_real, this.coords.p_to_real, \"from\");\n                    this.coords.p_from_fake = this.convertToFakePercent(this.coords.p_from_real);\n\n                    this.coords.p_to_real = this.convertToRealPercent(handle_x) + this.coords.p_gap_right;\n                    this.coords.p_to_real = this.calcWithStep(this.coords.p_to_real);\n                    this.coords.p_to_real = this.checkDiapason(this.coords.p_to_real, this.options.to_min, this.options.to_max);\n                    this.coords.p_to_real = this.checkMinInterval(this.coords.p_to_real, this.coords.p_from_real, \"to\");\n                    this.coords.p_to_fake = this.convertToFakePercent(this.coords.p_to_real);\n\n                    break;\n\n                case \"both_one\":\n                    if (this.options.from_fixed || this.options.to_fixed) {\n                        break;\n                    }\n\n                    var real_x = this.convertToRealPercent(handle_x),\n                        from = this.result.from_percent,\n                        to = this.result.to_percent,\n                        full = to - from,\n                        half = full / 2,\n                        new_from = real_x - half,\n                        new_to = real_x + half;\n\n                    if (new_from < 0) {\n                        new_from = 0;\n                        new_to = new_from + full;\n                    }\n\n                    if (new_to > 100) {\n                        new_to = 100;\n                        new_from = new_to - full;\n                    }\n\n                    this.coords.p_from_real = this.calcWithStep(new_from);\n                    this.coords.p_from_real = this.checkDiapason(this.coords.p_from_real, this.options.from_min, this.options.from_max);\n                    this.coords.p_from_fake = this.convertToFakePercent(this.coords.p_from_real);\n\n                    this.coords.p_to_real = this.calcWithStep(new_to);\n                    this.coords.p_to_real = this.checkDiapason(this.coords.p_to_real, this.options.to_min, this.options.to_max);\n                    this.coords.p_to_fake = this.convertToFakePercent(this.coords.p_to_real);\n\n                    break;\n            }\n\n            if (this.options.type === \"single\") {\n                this.coords.p_bar_x = (this.coords.p_handle / 2);\n                this.coords.p_bar_w = this.coords.p_single_fake;\n\n                this.result.from_percent = this.coords.p_single_real;\n                this.result.from = this.convertToValue(this.coords.p_single_real);\n                this.result.from_pretty = this._prettify(this.result.from);\n\n                if (this.options.values.length) {\n                    this.result.from_value = this.options.values[this.result.from];\n                }\n            } else {\n                this.coords.p_bar_x = this.toFixed(this.coords.p_from_fake + (this.coords.p_handle / 2));\n                this.coords.p_bar_w = this.toFixed(this.coords.p_to_fake - this.coords.p_from_fake);\n\n                this.result.from_percent = this.coords.p_from_real;\n                this.result.from = this.convertToValue(this.coords.p_from_real);\n                this.result.from_pretty = this._prettify(this.result.from);\n                this.result.to_percent = this.coords.p_to_real;\n                this.result.to = this.convertToValue(this.coords.p_to_real);\n                this.result.to_pretty = this._prettify(this.result.to);\n\n                if (this.options.values.length) {\n                    this.result.from_value = this.options.values[this.result.from];\n                    this.result.to_value = this.options.values[this.result.to];\n                }\n            }\n\n            this.calcMinMax();\n            this.calcLabels();\n        },\n\n\n        /**\n         * calculates pointer X in percent\n         */\n        calcPointerPercent: function () {\n            if (!this.coords.w_rs) {\n                this.coords.p_pointer = 0;\n                return;\n            }\n\n            if (this.coords.x_pointer < 0 || isNaN(this.coords.x_pointer)  ) {\n                this.coords.x_pointer = 0;\n            } else if (this.coords.x_pointer > this.coords.w_rs) {\n                this.coords.x_pointer = this.coords.w_rs;\n            }\n\n            this.coords.p_pointer = this.toFixed(this.coords.x_pointer / this.coords.w_rs * 100);\n        },\n\n        convertToRealPercent: function (fake) {\n            var full = 100 - this.coords.p_handle;\n            return fake / full * 100;\n        },\n\n        convertToFakePercent: function (real) {\n            var full = 100 - this.coords.p_handle;\n            return real / 100 * full;\n        },\n\n        getHandleX: function () {\n            var max = 100 - this.coords.p_handle,\n                x = this.toFixed(this.coords.p_pointer - this.coords.p_gap);\n\n            if (x < 0) {\n                x = 0;\n            } else if (x > max) {\n                x = max;\n            }\n\n            return x;\n        },\n\n        calcHandlePercent: function () {\n            if (this.options.type === \"single\") {\n                this.coords.w_handle = this.$cache.s_single.outerWidth(false);\n            } else {\n                this.coords.w_handle = this.$cache.s_from.outerWidth(false);\n            }\n\n            this.coords.p_handle = this.toFixed(this.coords.w_handle / this.coords.w_rs * 100);\n        },\n\n        /**\n         * Find closest handle to pointer click\n         *\n         * @param real_x {Number}\n         * @returns {String}\n         */\n        chooseHandle: function (real_x) {\n            if (this.options.type === \"single\") {\n                return \"single\";\n            } else {\n                var m_point = this.coords.p_from_real + ((this.coords.p_to_real - this.coords.p_from_real) / 2);\n                if (real_x >= m_point) {\n                    return this.options.to_fixed ? \"from\" : \"to\";\n                } else {\n                    return this.options.from_fixed ? \"to\" : \"from\";\n                }\n            }\n        },\n\n        /**\n         * Measure Min and Max labels width in percent\n         */\n        calcMinMax: function () {\n            if (!this.coords.w_rs) {\n                return;\n            }\n\n            this.labels.p_min = this.labels.w_min / this.coords.w_rs * 100;\n            this.labels.p_max = this.labels.w_max / this.coords.w_rs * 100;\n        },\n\n        /**\n         * Measure labels width and X in percent\n         */\n        calcLabels: function () {\n            if (!this.coords.w_rs || this.options.hide_from_to) {\n                return;\n            }\n\n            if (this.options.type === \"single\") {\n\n                this.labels.w_single = this.$cache.single.outerWidth(false);\n                this.labels.p_single_fake = this.labels.w_single / this.coords.w_rs * 100;\n                this.labels.p_single_left = this.coords.p_single_fake + (this.coords.p_handle / 2) - (this.labels.p_single_fake / 2);\n                this.labels.p_single_left = this.checkEdges(this.labels.p_single_left, this.labels.p_single_fake);\n\n            } else {\n\n                this.labels.w_from = this.$cache.from.outerWidth(false);\n                this.labels.p_from_fake = this.labels.w_from / this.coords.w_rs * 100;\n                this.labels.p_from_left = this.coords.p_from_fake + (this.coords.p_handle / 2) - (this.labels.p_from_fake / 2);\n                this.labels.p_from_left = this.toFixed(this.labels.p_from_left);\n                this.labels.p_from_left = this.checkEdges(this.labels.p_from_left, this.labels.p_from_fake);\n\n                this.labels.w_to = this.$cache.to.outerWidth(false);\n                this.labels.p_to_fake = this.labels.w_to / this.coords.w_rs * 100;\n                this.labels.p_to_left = this.coords.p_to_fake + (this.coords.p_handle / 2) - (this.labels.p_to_fake / 2);\n                this.labels.p_to_left = this.toFixed(this.labels.p_to_left);\n                this.labels.p_to_left = this.checkEdges(this.labels.p_to_left, this.labels.p_to_fake);\n\n                this.labels.w_single = this.$cache.single.outerWidth(false);\n                this.labels.p_single_fake = this.labels.w_single / this.coords.w_rs * 100;\n                this.labels.p_single_left = ((this.labels.p_from_left + this.labels.p_to_left + this.labels.p_to_fake) / 2) - (this.labels.p_single_fake / 2);\n                this.labels.p_single_left = this.toFixed(this.labels.p_single_left);\n                this.labels.p_single_left = this.checkEdges(this.labels.p_single_left, this.labels.p_single_fake);\n\n            }\n        },\n\n\n\n        // =============================================================================================================\n        // Drawings\n\n        /**\n         * Main function called in request animation frame\n         * to update everything\n         */\n        updateScene: function () {\n            if (this.raf_id) {\n                cancelAnimationFrame(this.raf_id);\n                this.raf_id = null;\n            }\n\n            clearTimeout(this.update_tm);\n            this.update_tm = null;\n\n            if (!this.options) {\n                return;\n            }\n\n            this.drawHandles();\n\n            if (this.is_active) {\n                this.raf_id = requestAnimationFrame(this.updateScene.bind(this));\n            } else {\n                this.update_tm = setTimeout(this.updateScene.bind(this), 300);\n            }\n        },\n\n        /**\n         * Draw handles\n         */\n        drawHandles: function () {\n            this.coords.w_rs = this.$cache.rs.outerWidth(false);\n\n            if (!this.coords.w_rs) {\n                return;\n            }\n\n            if (this.coords.w_rs !== this.coords.w_rs_old) {\n                this.target = \"base\";\n                this.is_resize = true;\n            }\n\n            if (this.coords.w_rs !== this.coords.w_rs_old || this.force_redraw) {\n                this.setMinMax();\n                this.calc(true);\n                this.drawLabels();\n                if (this.options.grid) {\n                    this.calcGridMargin();\n                    this.calcGridLabels();\n                }\n                this.force_redraw = true;\n                this.coords.w_rs_old = this.coords.w_rs;\n                this.drawShadow();\n            }\n\n            if (!this.coords.w_rs) {\n                return;\n            }\n\n            if (!this.dragging && !this.force_redraw && !this.is_key) {\n                return;\n            }\n\n            if (this.old_from !== this.result.from || this.old_to !== this.result.to || this.force_redraw || this.is_key) {\n\n                this.drawLabels();\n\n                this.$cache.bar[0].style.left = this.coords.p_bar_x + \"%\";\n                this.$cache.bar[0].style.width = this.coords.p_bar_w + \"%\";\n\n                if (this.options.type === \"single\") {\n                    this.$cache.bar[0].style.left = 0;\n                    this.$cache.bar[0].style.width = this.coords.p_bar_w + this.coords.p_bar_x + \"%\";\n\n                    this.$cache.s_single[0].style.left = this.coords.p_single_fake + \"%\";\n\n                    this.$cache.single[0].style.left = this.labels.p_single_left + \"%\";\n                } else {\n                    this.$cache.s_from[0].style.left = this.coords.p_from_fake + \"%\";\n                    this.$cache.s_to[0].style.left = this.coords.p_to_fake + \"%\";\n\n                    if (this.old_from !== this.result.from || this.force_redraw) {\n                        this.$cache.from[0].style.left = this.labels.p_from_left + \"%\";\n                    }\n                    if (this.old_to !== this.result.to || this.force_redraw) {\n                        this.$cache.to[0].style.left = this.labels.p_to_left + \"%\";\n                    }\n\n                    this.$cache.single[0].style.left = this.labels.p_single_left + \"%\";\n                }\n\n                this.writeToInput();\n\n                if ((this.old_from !== this.result.from || this.old_to !== this.result.to) && !this.is_start) {\n                    this.$cache.input.trigger(\"change\");\n                    this.$cache.input.trigger(\"input\");\n                }\n\n                this.old_from = this.result.from;\n                this.old_to = this.result.to;\n\n                // callbacks call\n                if (!this.is_resize && !this.is_update && !this.is_start && !this.is_finish) {\n                    this.callOnChange();\n                }\n                if (this.is_key || this.is_click) {\n                    this.is_key = false;\n                    this.is_click = false;\n                    this.callOnFinish();\n                }\n\n                this.is_update = false;\n                this.is_resize = false;\n                this.is_finish = false;\n            }\n\n            this.is_start = false;\n            this.is_key = false;\n            this.is_click = false;\n            this.force_redraw = false;\n        },\n\n        /**\n         * Draw labels\n         * measure labels collisions\n         * collapse close labels\n         */\n        drawLabels: function () {\n            if (!this.options) {\n                return;\n            }\n\n            var values_num = this.options.values.length;\n            var p_values = this.options.p_values;\n            var text_single;\n            var text_from;\n            var text_to;\n            var from_pretty;\n            var to_pretty;\n\n            if (this.options.hide_from_to) {\n                return;\n            }\n\n            if (this.options.type === \"single\") {\n\n                if (values_num) {\n                    text_single = this.decorate(p_values[this.result.from]);\n                    this.$cache.single.html(text_single);\n                } else {\n                    from_pretty = this._prettify(this.result.from);\n\n                    text_single = this.decorate(from_pretty, this.result.from);\n                    this.$cache.single.html(text_single);\n                }\n\n                this.calcLabels();\n\n                if (this.labels.p_single_left < this.labels.p_min + 1) {\n                    this.$cache.min[0].style.visibility = \"hidden\";\n                } else {\n                    this.$cache.min[0].style.visibility = \"visible\";\n                }\n\n                if (this.labels.p_single_left + this.labels.p_single_fake > 100 - this.labels.p_max - 1) {\n                    this.$cache.max[0].style.visibility = \"hidden\";\n                } else {\n                    this.$cache.max[0].style.visibility = \"visible\";\n                }\n\n            } else {\n\n                if (values_num) {\n\n                    if (this.options.decorate_both) {\n                        text_single = this.decorate(p_values[this.result.from]);\n                        text_single += this.options.values_separator;\n                        text_single += this.decorate(p_values[this.result.to]);\n                    } else {\n                        text_single = this.decorate(p_values[this.result.from] + this.options.values_separator + p_values[this.result.to]);\n                    }\n                    text_from = this.decorate(p_values[this.result.from]);\n                    text_to = this.decorate(p_values[this.result.to]);\n\n                    this.$cache.single.html(text_single);\n                    this.$cache.from.html(text_from);\n                    this.$cache.to.html(text_to);\n\n                } else {\n                    from_pretty = this._prettify(this.result.from);\n                    to_pretty = this._prettify(this.result.to);\n\n                    if (this.options.decorate_both) {\n                        text_single = this.decorate(from_pretty, this.result.from);\n                        text_single += this.options.values_separator;\n                        text_single += this.decorate(to_pretty, this.result.to);\n                    } else {\n                        text_single = this.decorate(from_pretty + this.options.values_separator + to_pretty, this.result.to);\n                    }\n                    text_from = this.decorate(from_pretty, this.result.from);\n                    text_to = this.decorate(to_pretty, this.result.to);\n\n                    this.$cache.single.html(text_single);\n                    this.$cache.from.html(text_from);\n                    this.$cache.to.html(text_to);\n\n                }\n\n                this.calcLabels();\n\n                var min = Math.min(this.labels.p_single_left, this.labels.p_from_left),\n                    single_left = this.labels.p_single_left + this.labels.p_single_fake,\n                    to_left = this.labels.p_to_left + this.labels.p_to_fake,\n                    max = Math.max(single_left, to_left);\n\n                if (this.labels.p_from_left + this.labels.p_from_fake >= this.labels.p_to_left) {\n                    this.$cache.from[0].style.visibility = \"hidden\";\n                    this.$cache.to[0].style.visibility = \"hidden\";\n                    this.$cache.single[0].style.visibility = \"visible\";\n\n                    if (this.result.from === this.result.to) {\n                        if (this.target === \"from\") {\n                            this.$cache.from[0].style.visibility = \"visible\";\n                        } else if (this.target === \"to\") {\n                            this.$cache.to[0].style.visibility = \"visible\";\n                        } else if (!this.target) {\n                            this.$cache.from[0].style.visibility = \"visible\";\n                        }\n                        this.$cache.single[0].style.visibility = \"hidden\";\n                        max = to_left;\n                    } else {\n                        this.$cache.from[0].style.visibility = \"hidden\";\n                        this.$cache.to[0].style.visibility = \"hidden\";\n                        this.$cache.single[0].style.visibility = \"visible\";\n                        max = Math.max(single_left, to_left);\n                    }\n                } else {\n                    this.$cache.from[0].style.visibility = \"visible\";\n                    this.$cache.to[0].style.visibility = \"visible\";\n                    this.$cache.single[0].style.visibility = \"hidden\";\n                }\n\n                if (min < this.labels.p_min + 1) {\n                    this.$cache.min[0].style.visibility = \"hidden\";\n                } else {\n                    this.$cache.min[0].style.visibility = \"visible\";\n                }\n\n                if (max > 100 - this.labels.p_max - 1) {\n                    this.$cache.max[0].style.visibility = \"hidden\";\n                } else {\n                    this.$cache.max[0].style.visibility = \"visible\";\n                }\n\n            }\n        },\n\n        /**\n         * Draw shadow intervals\n         */\n        drawShadow: function () {\n            var o = this.options,\n                c = this.$cache,\n\n                is_from_min = typeof o.from_min === \"number\" && !isNaN(o.from_min),\n                is_from_max = typeof o.from_max === \"number\" && !isNaN(o.from_max),\n                is_to_min = typeof o.to_min === \"number\" && !isNaN(o.to_min),\n                is_to_max = typeof o.to_max === \"number\" && !isNaN(o.to_max),\n\n                from_min,\n                from_max,\n                to_min,\n                to_max;\n\n            if (o.type === \"single\") {\n                if (o.from_shadow && (is_from_min || is_from_max)) {\n                    from_min = this.convertToPercent(is_from_min ? o.from_min : o.min);\n                    from_max = this.convertToPercent(is_from_max ? o.from_max : o.max) - from_min;\n                    from_min = this.toFixed(from_min - (this.coords.p_handle / 100 * from_min));\n                    from_max = this.toFixed(from_max - (this.coords.p_handle / 100 * from_max));\n                    from_min = from_min + (this.coords.p_handle / 2);\n\n                    c.shad_single[0].style.display = \"block\";\n                    c.shad_single[0].style.left = from_min + \"%\";\n                    c.shad_single[0].style.width = from_max + \"%\";\n                } else {\n                    c.shad_single[0].style.display = \"none\";\n                }\n            } else {\n                if (o.from_shadow && (is_from_min || is_from_max)) {\n                    from_min = this.convertToPercent(is_from_min ? o.from_min : o.min);\n                    from_max = this.convertToPercent(is_from_max ? o.from_max : o.max) - from_min;\n                    from_min = this.toFixed(from_min - (this.coords.p_handle / 100 * from_min));\n                    from_max = this.toFixed(from_max - (this.coords.p_handle / 100 * from_max));\n                    from_min = from_min + (this.coords.p_handle / 2);\n\n                    c.shad_from[0].style.display = \"block\";\n                    c.shad_from[0].style.left = from_min + \"%\";\n                    c.shad_from[0].style.width = from_max + \"%\";\n                } else {\n                    c.shad_from[0].style.display = \"none\";\n                }\n\n                if (o.to_shadow && (is_to_min || is_to_max)) {\n                    to_min = this.convertToPercent(is_to_min ? o.to_min : o.min);\n                    to_max = this.convertToPercent(is_to_max ? o.to_max : o.max) - to_min;\n                    to_min = this.toFixed(to_min - (this.coords.p_handle / 100 * to_min));\n                    to_max = this.toFixed(to_max - (this.coords.p_handle / 100 * to_max));\n                    to_min = to_min + (this.coords.p_handle / 2);\n\n                    c.shad_to[0].style.display = \"block\";\n                    c.shad_to[0].style.left = to_min + \"%\";\n                    c.shad_to[0].style.width = to_max + \"%\";\n                } else {\n                    c.shad_to[0].style.display = \"none\";\n                }\n            }\n        },\n\n\n\n        /**\n         * Write values to input element\n         */\n        writeToInput: function () {\n            if (this.options.type === \"single\") {\n                if (this.options.values.length) {\n                    this.$cache.input.prop(\"value\", this.result.from_value);\n                } else {\n                    this.$cache.input.prop(\"value\", this.result.from);\n                }\n                this.$cache.input.data(\"from\", this.result.from);\n            } else {\n                if (this.options.values.length) {\n                    this.$cache.input.prop(\"value\", this.result.from_value + this.options.input_values_separator + this.result.to_value);\n                } else {\n                    this.$cache.input.prop(\"value\", this.result.from + this.options.input_values_separator + this.result.to);\n                }\n                this.$cache.input.data(\"from\", this.result.from);\n                this.$cache.input.data(\"to\", this.result.to);\n            }\n        },\n\n\n\n        // =============================================================================================================\n        // Callbacks\n\n        callOnStart: function () {\n            this.writeToInput();\n\n            if (this.options.onStart && typeof this.options.onStart === \"function\") {\n                if (this.options.scope) {\n                    this.options.onStart.call(this.options.scope, this.result);\n                } else {\n                    this.options.onStart(this.result);\n                }\n            }\n        },\n        callOnChange: function () {\n            this.writeToInput();\n\n            if (this.options.onChange && typeof this.options.onChange === \"function\") {\n                if (this.options.scope) {\n                    this.options.onChange.call(this.options.scope, this.result);\n                } else {\n                    this.options.onChange(this.result);\n                }\n            }\n        },\n        callOnFinish: function () {\n            this.writeToInput();\n\n            if (this.options.onFinish && typeof this.options.onFinish === \"function\") {\n                if (this.options.scope) {\n                    this.options.onFinish.call(this.options.scope, this.result);\n                } else {\n                    this.options.onFinish(this.result);\n                }\n            }\n        },\n        callOnUpdate: function () {\n            this.writeToInput();\n\n            if (this.options.onUpdate && typeof this.options.onUpdate === \"function\") {\n                if (this.options.scope) {\n                    this.options.onUpdate.call(this.options.scope, this.result);\n                } else {\n                    this.options.onUpdate(this.result);\n                }\n            }\n        },\n\n\n\n\n        // =============================================================================================================\n        // Service methods\n\n        toggleInput: function () {\n            this.$cache.input.toggleClass(\"irs-hidden-input\");\n\n            if (this.has_tab_index) {\n                this.$cache.input.prop(\"tabindex\", -1);\n            } else {\n                this.$cache.input.removeProp(\"tabindex\");\n            }\n\n            this.has_tab_index = !this.has_tab_index;\n        },\n\n        /**\n         * Convert real value to percent\n         *\n         * @param value {Number} X in real\n         * @param no_min {boolean=} don't use min value\n         * @returns {Number} X in percent\n         */\n        convertToPercent: function (value, no_min) {\n            var diapason = this.options.max - this.options.min,\n                one_percent = diapason / 100,\n                val, percent;\n\n            if (!diapason) {\n                this.no_diapason = true;\n                return 0;\n            }\n\n            if (no_min) {\n                val = value;\n            } else {\n                val = value - this.options.min;\n            }\n\n            percent = val / one_percent;\n\n            return this.toFixed(percent);\n        },\n\n        /**\n         * Convert percent to real values\n         *\n         * @param percent {Number} X in percent\n         * @returns {Number} X in real\n         */\n        convertToValue: function (percent) {\n            var min = this.options.min,\n                max = this.options.max,\n                min_decimals = min.toString().split(\".\")[1],\n                max_decimals = max.toString().split(\".\")[1],\n                min_length, max_length,\n                avg_decimals = 0,\n                abs = 0;\n\n            if (percent === 0) {\n                return this.options.min;\n            }\n            if (percent === 100) {\n                return this.options.max;\n            }\n\n\n            if (min_decimals) {\n                min_length = min_decimals.length;\n                avg_decimals = min_length;\n            }\n            if (max_decimals) {\n                max_length = max_decimals.length;\n                avg_decimals = max_length;\n            }\n            if (min_length && max_length) {\n                avg_decimals = (min_length >= max_length) ? min_length : max_length;\n            }\n\n            if (min < 0) {\n                abs = Math.abs(min);\n                min = +(min + abs).toFixed(avg_decimals);\n                max = +(max + abs).toFixed(avg_decimals);\n            }\n\n            var number = ((max - min) / 100 * percent) + min,\n                string = this.options.step.toString().split(\".\")[1],\n                result;\n\n            if (string) {\n                number = +number.toFixed(string.length);\n            } else {\n                number = number / this.options.step;\n                number = number * this.options.step;\n\n                number = +number.toFixed(0);\n            }\n\n            if (abs) {\n                number -= abs;\n            }\n\n            if (string) {\n                result = +number.toFixed(string.length);\n            } else {\n                result = this.toFixed(number);\n            }\n\n            if (result < this.options.min) {\n                result = this.options.min;\n            } else if (result > this.options.max) {\n                result = this.options.max;\n            }\n\n            return result;\n        },\n\n        /**\n         * Round percent value with step\n         *\n         * @param percent {Number}\n         * @returns percent {Number} rounded\n         */\n        calcWithStep: function (percent) {\n            var rounded = Math.round(percent / this.coords.p_step) * this.coords.p_step;\n\n            if (rounded > 100) {\n                rounded = 100;\n            }\n            if (percent === 100) {\n                rounded = 100;\n            }\n\n            return this.toFixed(rounded);\n        },\n\n        checkMinInterval: function (p_current, p_next, type) {\n            var o = this.options,\n                current,\n                next;\n\n            if (!o.min_interval) {\n                return p_current;\n            }\n\n            current = this.convertToValue(p_current);\n            next = this.convertToValue(p_next);\n\n            if (type === \"from\") {\n\n                if (next - current < o.min_interval) {\n                    current = next - o.min_interval;\n                }\n\n            } else {\n\n                if (current - next < o.min_interval) {\n                    current = next + o.min_interval;\n                }\n\n            }\n\n            return this.convertToPercent(current);\n        },\n\n        checkMaxInterval: function (p_current, p_next, type) {\n            var o = this.options,\n                current,\n                next;\n\n            if (!o.max_interval) {\n                return p_current;\n            }\n\n            current = this.convertToValue(p_current);\n            next = this.convertToValue(p_next);\n\n            if (type === \"from\") {\n\n                if (next - current > o.max_interval) {\n                    current = next - o.max_interval;\n                }\n\n            } else {\n\n                if (current - next > o.max_interval) {\n                    current = next + o.max_interval;\n                }\n\n            }\n\n            return this.convertToPercent(current);\n        },\n\n        checkDiapason: function (p_num, min, max) {\n            var num = this.convertToValue(p_num),\n                o = this.options;\n\n            if (typeof min !== \"number\") {\n                min = o.min;\n            }\n\n            if (typeof max !== \"number\") {\n                max = o.max;\n            }\n\n            if (num < min) {\n                num = min;\n            }\n\n            if (num > max) {\n                num = max;\n            }\n\n            return this.convertToPercent(num);\n        },\n\n        toFixed: function (num) {\n            num = num.toFixed(20);\n            return +num;\n        },\n\n        _prettify: function (num) {\n            if (!this.options.prettify_enabled) {\n                return num;\n            }\n\n            if (this.options.prettify && typeof this.options.prettify === \"function\") {\n                return this.options.prettify(num);\n            } else {\n                return this.prettify(num);\n            }\n        },\n\n        prettify: function (num) {\n            var n = num.toString();\n            return n.replace(/(\\d{1,3}(?=(?:\\d\\d\\d)+(?!\\d)))/g, \"$1\" + this.options.prettify_separator);\n        },\n\n        checkEdges: function (left, width) {\n            if (!this.options.force_edges) {\n                return this.toFixed(left);\n            }\n\n            if (left < 0) {\n                left = 0;\n            } else if (left > 100 - width) {\n                left = 100 - width;\n            }\n\n            return this.toFixed(left);\n        },\n\n        validate: function () {\n            var o = this.options,\n                r = this.result,\n                v = o.values,\n                vl = v.length,\n                value,\n                i;\n\n            if (typeof o.min === \"string\") o.min = +o.min;\n            if (typeof o.max === \"string\") o.max = +o.max;\n            if (typeof o.from === \"string\") o.from = +o.from;\n            if (typeof o.to === \"string\") o.to = +o.to;\n            if (typeof o.step === \"string\") o.step = +o.step;\n\n            if (typeof o.from_min === \"string\") o.from_min = +o.from_min;\n            if (typeof o.from_max === \"string\") o.from_max = +o.from_max;\n            if (typeof o.to_min === \"string\") o.to_min = +o.to_min;\n            if (typeof o.to_max === \"string\") o.to_max = +o.to_max;\n\n            if (typeof o.grid_num === \"string\") o.grid_num = +o.grid_num;\n\n            if (o.max < o.min) {\n                o.max = o.min;\n            }\n\n            if (vl) {\n                o.p_values = [];\n                o.min = 0;\n                o.max = vl - 1;\n                o.step = 1;\n                o.grid_num = o.max;\n                o.grid_snap = true;\n\n                for (i = 0; i < vl; i++) {\n                    value = +v[i];\n\n                    if (!isNaN(value)) {\n                        v[i] = value;\n                        value = this._prettify(value);\n                    } else {\n                        value = v[i];\n                    }\n\n                    o.p_values.push(value);\n                }\n            }\n\n            if (typeof o.from !== \"number\" || isNaN(o.from)) {\n                o.from = o.min;\n            }\n\n            if (typeof o.to !== \"number\" || isNaN(o.to)) {\n                o.to = o.max;\n            }\n\n            if (o.type === \"single\") {\n\n                if (o.from < o.min) o.from = o.min;\n                if (o.from > o.max) o.from = o.max;\n\n            } else {\n\n                if (o.from < o.min) o.from = o.min;\n                if (o.from > o.max) o.from = o.max;\n\n                if (o.to < o.min) o.to = o.min;\n                if (o.to > o.max) o.to = o.max;\n\n                if (this.update_check.from) {\n\n                    if (this.update_check.from !== o.from) {\n                        if (o.from > o.to) o.from = o.to;\n                    }\n                    if (this.update_check.to !== o.to) {\n                        if (o.to < o.from) o.to = o.from;\n                    }\n\n                }\n\n                if (o.from > o.to) o.from = o.to;\n                if (o.to < o.from) o.to = o.from;\n\n            }\n\n            if (typeof o.step !== \"number\" || isNaN(o.step) || !o.step || o.step < 0) {\n                o.step = 1;\n            }\n\n            if (typeof o.from_min === \"number\" && o.from < o.from_min) {\n                o.from = o.from_min;\n            }\n\n            if (typeof o.from_max === \"number\" && o.from > o.from_max) {\n                o.from = o.from_max;\n            }\n\n            if (typeof o.to_min === \"number\" && o.to < o.to_min) {\n                o.to = o.to_min;\n            }\n\n            if (typeof o.to_max === \"number\" && o.from > o.to_max) {\n                o.to = o.to_max;\n            }\n\n            if (r) {\n                if (r.min !== o.min) {\n                    r.min = o.min;\n                }\n\n                if (r.max !== o.max) {\n                    r.max = o.max;\n                }\n\n                if (r.from < r.min || r.from > r.max) {\n                    r.from = o.from;\n                }\n\n                if (r.to < r.min || r.to > r.max) {\n                    r.to = o.to;\n                }\n            }\n\n            if (typeof o.min_interval !== \"number\" || isNaN(o.min_interval) || !o.min_interval || o.min_interval < 0) {\n                o.min_interval = 0;\n            }\n\n            if (typeof o.max_interval !== \"number\" || isNaN(o.max_interval) || !o.max_interval || o.max_interval < 0) {\n                o.max_interval = 0;\n            }\n\n            if (o.min_interval && o.min_interval > o.max - o.min) {\n                o.min_interval = o.max - o.min;\n            }\n\n            if (o.max_interval && o.max_interval > o.max - o.min) {\n                o.max_interval = o.max - o.min;\n            }\n        },\n\n        decorate: function (num, original) {\n            var decorated = \"\",\n                o = this.options;\n\n            if (o.prefix) {\n                decorated += o.prefix;\n            }\n\n            decorated += num;\n\n            if (o.max_postfix) {\n                if (o.values.length && num === o.p_values[o.max]) {\n                    decorated += o.max_postfix;\n                    if (o.postfix) {\n                        decorated += \" \";\n                    }\n                } else if (original === o.max) {\n                    decorated += o.max_postfix;\n                    if (o.postfix) {\n                        decorated += \" \";\n                    }\n                }\n            }\n\n            if (o.postfix) {\n                decorated += o.postfix;\n            }\n\n            return decorated;\n        },\n\n        updateFrom: function () {\n            this.result.from = this.options.from;\n            this.result.from_percent = this.convertToPercent(this.result.from);\n            this.result.from_pretty = this._prettify(this.result.from);\n            if (this.options.values) {\n                this.result.from_value = this.options.values[this.result.from];\n            }\n        },\n\n        updateTo: function () {\n            this.result.to = this.options.to;\n            this.result.to_percent = this.convertToPercent(this.result.to);\n            this.result.to_pretty = this._prettify(this.result.to);\n            if (this.options.values) {\n                this.result.to_value = this.options.values[this.result.to];\n            }\n        },\n\n        updateResult: function () {\n            this.result.min = this.options.min;\n            this.result.max = this.options.max;\n            this.updateFrom();\n            this.updateTo();\n        },\n\n\n        // =============================================================================================================\n        // Grid\n\n        appendGrid: function () {\n            if (!this.options.grid) {\n                return;\n            }\n\n            var o = this.options,\n                i, z,\n\n                total = o.max - o.min,\n                big_num = o.grid_num,\n                big_p = 0,\n                big_w = 0,\n\n                small_max = 4,\n                local_small_max,\n                small_p,\n                small_w = 0,\n\n                result,\n                html = '';\n\n\n\n            this.calcGridMargin();\n\n            if (o.grid_snap) {\n                big_num = total / o.step;\n            }\n\n            if (big_num > 50) big_num = 50;\n            big_p = this.toFixed(100 / big_num);\n\n            if (big_num > 4) {\n                small_max = 3;\n            }\n            if (big_num > 7) {\n                small_max = 2;\n            }\n            if (big_num > 14) {\n                small_max = 1;\n            }\n            if (big_num > 28) {\n                small_max = 0;\n            }\n\n            for (i = 0; i < big_num + 1; i++) {\n                local_small_max = small_max;\n\n                big_w = this.toFixed(big_p * i);\n\n                if (big_w > 100) {\n                    big_w = 100;\n                }\n                this.coords.big[i] = big_w;\n\n                small_p = (big_w - (big_p * (i - 1))) / (local_small_max + 1);\n\n                for (z = 1; z <= local_small_max; z++) {\n                    if (big_w === 0) {\n                        break;\n                    }\n\n                    small_w = this.toFixed(big_w - (small_p * z));\n\n                    html += '<span class=\"irs-grid-pol small\" style=\"left: ' + small_w + '%\"></span>';\n                }\n\n                html += '<span class=\"irs-grid-pol\" style=\"left: ' + big_w + '%\"></span>';\n\n                result = this.convertToValue(big_w);\n                if (o.values.length) {\n                    result = o.p_values[result];\n                } else {\n                    result = this._prettify(result);\n                }\n\n                html += '<span class=\"irs-grid-text js-grid-text-' + i + '\" style=\"left: ' + big_w + '%\">' + result + '</span>';\n            }\n            this.coords.big_num = Math.ceil(big_num + 1);\n\n\n\n            this.$cache.cont.addClass(\"irs-with-grid\");\n            this.$cache.grid.html(html);\n            this.cacheGridLabels();\n        },\n\n        cacheGridLabels: function () {\n            var $label, i,\n                num = this.coords.big_num;\n\n            for (i = 0; i < num; i++) {\n                $label = this.$cache.grid.find(\".js-grid-text-\" + i);\n                this.$cache.grid_labels.push($label);\n            }\n\n            this.calcGridLabels();\n        },\n\n        calcGridLabels: function () {\n            var i, label, start = [], finish = [],\n                num = this.coords.big_num;\n\n            for (i = 0; i < num; i++) {\n                this.coords.big_w[i] = this.$cache.grid_labels[i].outerWidth(false);\n                this.coords.big_p[i] = this.toFixed(this.coords.big_w[i] / this.coords.w_rs * 100);\n                this.coords.big_x[i] = this.toFixed(this.coords.big_p[i] / 2);\n\n                start[i] = this.toFixed(this.coords.big[i] - this.coords.big_x[i]);\n                finish[i] = this.toFixed(start[i] + this.coords.big_p[i]);\n            }\n\n            if (this.options.force_edges) {\n                if (start[0] < -this.coords.grid_gap) {\n                    start[0] = -this.coords.grid_gap;\n                    finish[0] = this.toFixed(start[0] + this.coords.big_p[0]);\n\n                    this.coords.big_x[0] = this.coords.grid_gap;\n                }\n\n                if (finish[num - 1] > 100 + this.coords.grid_gap) {\n                    finish[num - 1] = 100 + this.coords.grid_gap;\n                    start[num - 1] = this.toFixed(finish[num - 1] - this.coords.big_p[num - 1]);\n\n                    this.coords.big_x[num - 1] = this.toFixed(this.coords.big_p[num - 1] - this.coords.grid_gap);\n                }\n            }\n\n            this.calcGridCollision(2, start, finish);\n            this.calcGridCollision(4, start, finish);\n\n            for (i = 0; i < num; i++) {\n                label = this.$cache.grid_labels[i][0];\n\n                if (this.coords.big_x[i] !== Number.POSITIVE_INFINITY) {\n                    label.style.marginLeft = -this.coords.big_x[i] + \"%\";\n                }\n            }\n        },\n\n        // Collisions Calc Beta\n        // TODO: Refactor then have plenty of time\n        calcGridCollision: function (step, start, finish) {\n            var i, next_i, label,\n                num = this.coords.big_num;\n\n            for (i = 0; i < num; i += step) {\n                next_i = i + (step / 2);\n                if (next_i >= num) {\n                    break;\n                }\n\n                label = this.$cache.grid_labels[next_i][0];\n\n                if (finish[i] <= start[next_i]) {\n                    label.style.visibility = \"visible\";\n                } else {\n                    label.style.visibility = \"hidden\";\n                }\n            }\n        },\n\n        calcGridMargin: function () {\n            if (!this.options.grid_margin) {\n                return;\n            }\n\n            this.coords.w_rs = this.$cache.rs.outerWidth(false);\n            if (!this.coords.w_rs) {\n                return;\n            }\n\n            if (this.options.type === \"single\") {\n                this.coords.w_handle = this.$cache.s_single.outerWidth(false);\n            } else {\n                this.coords.w_handle = this.$cache.s_from.outerWidth(false);\n            }\n            this.coords.p_handle = this.toFixed(this.coords.w_handle  / this.coords.w_rs * 100);\n            this.coords.grid_gap = this.toFixed((this.coords.p_handle / 2) - 0.1);\n\n            this.$cache.grid[0].style.width = this.toFixed(100 - this.coords.p_handle) + \"%\";\n            this.$cache.grid[0].style.left = this.coords.grid_gap + \"%\";\n        },\n\n\n\n        // =============================================================================================================\n        // Public methods\n\n        update: function (options) {\n            if (!this.input) {\n                return;\n            }\n\n            this.is_update = true;\n\n            this.options.from = this.result.from;\n            this.options.to = this.result.to;\n            this.update_check.from = this.result.from;\n            this.update_check.to = this.result.to;\n\n            this.options = $.extend(this.options, options);\n            this.validate();\n            this.updateResult(options);\n\n            this.toggleInput();\n            this.remove();\n            this.init(true);\n        },\n\n        reset: function () {\n            if (!this.input) {\n                return;\n            }\n\n            this.updateResult();\n            this.update();\n        },\n\n        destroy: function () {\n            if (!this.input) {\n                return;\n            }\n\n            this.toggleInput();\n            this.$cache.input.prop(\"readonly\", false);\n            $.data(this.input, \"ionRangeSlider\", null);\n\n            this.remove();\n            this.input = null;\n            this.options = null;\n        }\n    };\n\n    $.fn.ionRangeSlider = function (options) {\n        return this.each(function() {\n            if (!$.data(this, \"ionRangeSlider\")) {\n                $.data(this, \"ionRangeSlider\", new IonRangeSlider(this, options, plugin_count++));\n            }\n        });\n    };\n\n\n\n    // =================================================================================================================\n    // http://paulirish.com/2011/requestanimationframe-for-smart-animating/\n    // http://my.opera.com/emoller/blog/2011/12/20/requestanimationframe-for-smart-er-animating\n\n    // requestAnimationFrame polyfill by Erik Möller. fixes from Paul Irish and Tino Zijdel\n\n    // MIT license\n\n    (function() {\n        var lastTime = 0;\n        var vendors = ['ms', 'moz', 'webkit', 'o'];\n        for(var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\n            window.requestAnimationFrame = window[vendors[x]+'RequestAnimationFrame'];\n            window.cancelAnimationFrame = window[vendors[x]+'CancelAnimationFrame']\n                || window[vendors[x]+'CancelRequestAnimationFrame'];\n        }\n\n        if (!window.requestAnimationFrame)\n            window.requestAnimationFrame = function(callback, element) {\n                var currTime = new Date().getTime();\n                var timeToCall = Math.max(0, 16 - (currTime - lastTime));\n                var id = window.setTimeout(function() { callback(currTime + timeToCall); },\n                    timeToCall);\n                lastTime = currTime + timeToCall;\n                return id;\n            };\n\n        if (!window.cancelAnimationFrame)\n            window.cancelAnimationFrame = function(id) {\n                clearTimeout(id);\n            };\n    }());\n\n}));\n\nconst logInBtn = document.getElementById(\"log-in-button\");\nconst loginModal = document.getElementById(\"login-form\");\nconst registerModal = document.getElementById(\"register-form\");\nconst login = document.getElementById(\"login\");\nconst register = document.getElementById(\"register\");\nconst loginModalClose = document.getElementById(\"login-form-close\");\nconst registerModalClose = document.getElementById(\"register-form-close\");\nconst lostPasswordModal = document.getElementById(\"forgotten-password\");\nconst passwordModal = document.getElementById(\"lost-email\");\nconst lostPasswordModalClose = document.getElementById(\"missing-email-form-close\");\n\n\nlogInBtn.addEventListener(\"click\", () => {\n    modalVisible(loginModal)\n});\n\nloginModalClose.addEventListener(\"click\", () => {\n    modalHide(loginModal);\n})\n\nregister.addEventListener(\"click\", () => {\n    modalHide(loginModal);\n    modalVisible(registerModal);\n})\n\nlogin.addEventListener(\"click\", () => {\n    modalHide(registerModal);\n    modalVisible(loginModal);\n})\n\nregisterModalClose.addEventListener(\"click\", () => {\n    modalHide(loginModal);\n    modalHide(registerModal);\n})\n\nlostPasswordModal.addEventListener(\"click\", () => {\n    modalVisible(passwordModal); \n})\n\nlostPasswordModalClose.addEventListener(\"click\", () => {\n    modalHide(passwordModal);\n})\n\nfunction modalVisible(e) {\n    e.style.display = \"flex\";\n}\n\nfunction modalHide(e) {\n    e.style.display = \"none\";\n}\nconst shopAccordion = document.querySelectorAll(\".accordion__header--shop\");\nconst faqAccordion = document.querySelectorAll(\".accordion__header--faq\");\n\nshopAccordion.forEach(trigger =>\n  trigger.addEventListener(\"click\", accordDrop));\n\nfaqAccordion.forEach((trigger) =>\n  trigger.addEventListener(\"click\", singleAccordDrop));    \n\n\nfunction accordDrop() {\n  const cards = document.querySelectorAll(\".accordion__card\");\n  const thisCard = this.parentNode;\n\n  cards.forEach((card) => {\n    if (thisCard == card) {\n      thisCard.classList.toggle(\"accord-drop\");\n      return;\n    }\n  });\n}\n\nfunction singleAccordDrop() {\n  const cards = document.querySelectorAll(\".accordion__card\");\n  const thisCard = this.parentNode;\n\n  cards.forEach((card) => {\n    if (thisCard == card) {\n      thisCard.classList.toggle(\"accord-drop\");\n      return;\n    }\n    card.classList.remove(\"accord-drop\");\n  });\n}\nconst elevatorBtn = document.getElementById(\"elevator\");\nconst pageTop = document.getElementById(\"top\");\n\nelevatorBtn.addEventListener(\"click\", function() {\n    pageTop.scrollIntoView({ behavior: \"smooth\"});\n})"],"names":["factory","jQuery","define","amd","exports","document","window","navigator","require","$","undefined","IonRangeSlider","input","options","plugin_count","this","VERSION","current_plugin","calc_count","update_tm","old_from","old_to","old_min_interval","raf_id","dragging","force_redraw","no_diapason","has_tab_index","is_key","is_update","is_start","is_finish","is_active","is_resize","is_click","$cache","win","body","cont","rs","min","max","from","to","single","bar","line","s_single","s_from","s_to","shad_single","shad_from","shad_to","edge","grid","grid_labels","coords","x_gap","x_pointer","w_rs","w_rs_old","w_handle","p_gap","p_gap_left","p_gap_right","p_step","p_pointer","p_handle","p_single_fake","p_single_real","p_from_fake","p_from_real","p_to_fake","p_to_real","p_bar_x","p_bar_w","grid_gap","big_num","big","big_w","big_p","big_x","labels","w_min","w_max","w_from","w_to","w_single","p_min","p_max","p_from_left","p_to_left","p_single_left","config_from_data","prop","val","$inp","config","skin","type","step","min_interval","max_interval","drag_interval","values","p_values","from_fixed","from_min","from_max","from_shadow","to_fixed","to_min","to_max","to_shadow","prettify_enabled","prettify_separator","prettify","force_edges","keyboard","grid_margin","grid_num","grid_snap","hide_min_max","hide_from_to","prefix","postfix","max_postfix","decorate_both","values_separator","input_values_separator","disable","block","extra_classes","scope","onStart","onChange","onFinish","onUpdate","nodeName","console","warn","data","split","hasOwnProperty","length","indexOf","extend","update_check","validate","result","slider","from_percent","from_value","to_percent","to_value","init","r","is_old_ie","n","userAgent","search","exec","toString","addClass","Function","prototype","bind","that","target","slice","TypeError","args","call","arguments","bound","self","F","apply","concat","Object","Array","searchElement","fromIndex","k","O","len","Math","abs","Infinity","convertToPercent","toggleInput","append","setMinMax","calc","callOnUpdate","callOnStart","updateScene","container_html","before","prev","html","find","style","visibility","setTopHandler","display","appendGrid","appendDisableMask","disabled","removeDisableMask","bindEvents","cursor","changeLevel","toFixed","removeClass","remove","off","cancelAnimationFrame","on","pointerMove","pointerUp","pointerClick","pointerFocus","pointerDown","key","e","$handle","x","offset","left","width","preventDefault","pageX","originalEvent","touches","restoreOriginalMinInterval","contains","callOnFinish","button","setTempMinInterval","calcPointerPercent","trigger","altKey","ctrlKey","shiftKey","metaKey","which","moveByKey","right","p","min_pretty","max_pretty","decorate","_prettify","outerWidth","interval","update","calcHandlePercent","handle_x","getHandleX","chooseHandle","w","f","t","checkDiapason","convertToFakePercent","convertToRealPercent","calcWithStep","checkMinInterval","checkMaxInterval","real_x","full","half","new_from","new_to","convertToValue","from_pretty","to_pretty","calcMinMax","calcLabels","isNaN","fake","real","checkEdges","clearTimeout","drawHandles","requestAnimationFrame","setTimeout","drawLabels","calcGridMargin","calcGridLabels","drawShadow","writeToInput","callOnChange","text_to","single_left","to_left","values_num","text_single","text_from","o","c","is_from_min","is_from_max","is_to_min","is_to_max","toggleClass","removeProp","value","no_min","diapason","percent","max_length","min_decimals","max_decimals","avg_decimals","min_length","number","string","rounded","round","p_current","p_next","current","next","p_num","num","replace","i","v","vl","push","original","decorated","updateFrom","updateTo","updateResult","z","local_small_max","small_p","total","small_max","ceil","cacheGridLabels","$label","label","start","finish","calcGridCollision","Number","POSITIVE_INFINITY","marginLeft","next_i","reset","destroy","fn","ionRangeSlider","each","lastTime","vendors","callback","element","currTime","Date","getTime","timeToCall","id","logInBtn","getElementById","loginModal","registerModal","login","register","loginModalClose","registerModalClose","lostPasswordModal","passwordModal","lostPasswordModalClose","modalVisible","modalHide","addEventListener","shopAccordion","querySelectorAll","faqAccordion","accordDrop","cards","thisCard","parentNode","forEach","card","classList","toggle","singleAccordDrop","elevatorBtn","pageTop","scrollIntoView","behavior"],"mappings":"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"}